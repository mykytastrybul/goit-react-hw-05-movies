{"version":3,"file":"static/js/363.841c31cb.chunk.js","mappings":"6LACA,EAAuB,yBAAvB,EAAuD,yB,SCyBvD,EAtBmB,SAAC,GAA4B,IAA1BA,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WAC5B,OACE,eAAIC,UAAWC,EAAf,SACGH,EAAOI,KAAI,SAAAC,GACV,OACE,yBACE,SAAC,KAAD,CACEH,UAAWC,EACXG,GAAE,kBAAaD,EAAGE,IAClBC,QAAS,WACPP,EAAWI,EAAGE,KAJlB,SAOGF,EAAGI,SARCJ,EAAGE,W,mGCRtB,EAAuB,qB,SCWvB,EATe,SAAC,GAA2C,IAAzCG,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,aAAcC,EAAY,EAAZA,MAC5C,OACE,kBAAMV,UAAWC,EAAQU,SAAUF,EAAnC,WACE,kBAAOG,KAAK,OAAOC,KAAK,QAAQC,MAAOJ,EAAOK,SAAUP,KACxD,mBAAQI,KAAK,SAAb,wB,qBCDNI,EAAAA,EAAAA,IAAe,UAEf,IA2CA,EA3Ce,SAAC,GAAoB,IAAlBjB,EAAiB,EAAjBA,WACRkB,GAAWC,EAAAA,EAAAA,MAAXD,OACFE,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOX,EAAP,KAAcY,EAAd,KACA,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOvB,EAAP,KAAeyB,EAAf,KA2BA,OAjBAC,EAAAA,EAAAA,YAAU,WACJP,EAAOQ,OAAS,GAClBH,EAASL,EAAOS,MAAM,MAGvB,KAEHF,EAAAA,EAAAA,YAAU,WACJd,EAAMe,SACRN,EAAS,CAAEF,OAAO,KAAD,OAAOP,MACxBM,EAAAA,EAAAA,IAAeN,GACZiB,MAAK,SAAAC,GAAG,OAAIL,EAAUK,MACtBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SAG7B,CAACpB,KAGF,iCACE,SAAC,EAAD,CACEF,aA5Be,SAAAyB,GACnBX,EAASW,EAAEC,OAAOpB,QA4BdL,aAzBe,SAAAwB,GACnBA,EAAEE,kBAyBEzB,MAAOA,KAET,SAAC0B,EAAA,EAAD,CAAYtC,OAAQA,EAAQC,WAAYA,QCvC9C,EAJmB,WACjB,OAAO,SAAC,EAAD,M,6KCAF,SAASsC,IACd,OAAOC,IAAAA,IACA,gEACJX,MAAK,qBAAGY,KAAgBC,WAGtB,SAASC,EAASpC,GACvB,OAAOiC,IAAAA,IAAA,iBACUjC,EADV,6DAEJsB,MAAK,qBAAGY,QAEN,SAASvB,EAAeN,GAC7B,OAAO4B,IAAAA,IAAA,sFAE4E5B,EAF5E,gCAIJiB,MAAK,qBAAGY,KAAgBC,WAGtB,SAASE,EAAarC,GAC3B,OAAOiC,IAAAA,IAAA,iBAEOjC,EAFP,qEAIJsB,MAAK,qBAAGY,KAAgBI,QAGtB,SAASC,EAAgBvC,GAC9B,OAAOiC,IAAAA,IAAA,iBAEOjC,EAFP,qEAIJsB,MAAK,qBAAGY,KAAgBC,WAlC7BF,IAAAA,SAAAA,QAAyB","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/Search/Search.module.css?06df","components/Search/Search.jsx","components/Movies/Movies.jsx","pages/MoviesPage.jsx","utils/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"link\":\"MoviesList_link__8rTGX\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport s from './MoviesList.module.css';\n\nconst MoviesList = ({ movies, getMovieId }) => {\n  return (\n    <ul className={s.list}>\n      {movies.map(el => {\n        return (\n          <li key={el.id}>\n            <Link\n              className={s.link}\n              to={`/movies/${el.id}`}\n              onClick={() => {\n                getMovieId(el.id);\n              }}\n            >\n              {el.title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Search_form__KGT+E\"};","import React from 'react';\nimport s from './Search.module.css';\n\nconst Search = ({ handleChange, handleSubmit, query }) => {\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"query\" value={query} onChange={handleChange} />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default Search;\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport Search from 'components/Search/Search';\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { getSearchMovie } from 'utils/moviesApi';\n\ngetSearchMovie('batman');\n\nconst Movies = ({ getMovieId }) => {\n  const { search } = useLocation();\n  const navigate = useNavigate();\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n\n  useEffect(() => {\n    if (search.length > 0) {\n      setQuery(search.slice(3));\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (query.length) {\n      navigate({ search: `q=${query}` });\n      getSearchMovie(query)\n        .then(res => setMovies(res))\n        .catch(err => console.log(err));\n    }\n    // eslint-disable-next-line\n  }, [query]);\n\n  return (\n    <>\n      <Search\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        query={query}\n      />\n      <MoviesList movies={movies} getMovieId={getMovieId} />\n    </>\n  );\n};\n\nexport default Movies;\n","import Movies from 'components/Movies/Movies';\nimport React from 'react';\n\nconst MoviesPage = () => {\n  return <Movies />;\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport function getTrending() {\n  return axios\n    .get('/trending/movie/day?api_key=db6eb2b51232edce925b9a8998cdbd90')\n    .then(({ data }) => data.results);\n}\n\nexport function getMovie(id) {\n  return axios\n    .get(`/movie/${id}?api_key=db6eb2b51232edce925b9a8998cdbd90&language=en-US`)\n    .then(({ data }) => data);\n}\nexport function getSearchMovie(query) {\n  return axios\n    .get(\n      `/search/movie?api_key=db6eb2b51232edce925b9a8998cdbd90&language=en-US&query=${query}&page=1&include_adult=false`\n    )\n    .then(({ data }) => data.results);\n}\n\nexport function getMovieCast(id) {\n  return axios\n    .get(\n      `/movie/${id}/credits?api_key=db6eb2b51232edce925b9a8998cdbd90&language=en-US`\n    )\n    .then(({ data }) => data.cast);\n}\n\nexport function getMovieReviews(id) {\n  return axios\n    .get(\n      `/movie/${id}/reviews?api_key=db6eb2b51232edce925b9a8998cdbd90&language=en-US`\n    )\n    .then(({ data }) => data.results);\n}\n"],"names":["movies","getMovieId","className","s","map","el","to","id","onClick","title","handleChange","handleSubmit","query","onSubmit","type","name","value","onChange","getSearchMovie","search","useLocation","navigate","useNavigate","useState","setQuery","setMovies","useEffect","length","slice","then","res","catch","err","console","log","e","target","preventDefault","MoviesList","getTrending","axios","data","results","getMovie","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}